{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate}from'react-router-dom';import{motion}from'framer-motion';import axios from'axios';import ReactFlow,{addEdge,useNodesState,useEdgesState,Controls,Background,MiniMap,Panel}from'reactflow';import{ReactFlowProvider}from'reactflow';import'reactflow/dist/style.css';import'@reactflow/node-resizer/dist/style.css';import{FiSave,FiMessageSquare,FiCode,FiGitBranch,FiChevronRight,FiX,FiPlus,FiTrash2,FiSettings,FiPlay}from'react-icons/fi';// Custom Node Types\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MessageNode=_ref=>{let{data}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-primary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FiMessageSquare,{className:\"mr-2 text-primary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold text-primary\",children:\"Message\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm\",children:data.label||'Send message'})]});};const ConditionNode=_ref2=>{let{data}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-secondary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FiGitBranch,{className:\"mr-2 text-secondary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold text-secondary\",children:\"Condition\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm\",children:data.label||'Check condition'})]});};const CodeNode=_ref3=>{let{data}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-accent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FiCode,{className:\"mr-2 text-accent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-bold text-accent\",children:\"Code\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1 text-sm\",children:data.label||'Run code'})]});};const nodeTypes={message:MessageNode,condition:ConditionNode,code:CodeNode};const BotBuilder=()=>{const{botId}=useParams();const navigate=useNavigate();const[botName,setBotName]=useState('');const[isLoading,setIsLoading]=useState(true);const[isSaving,setIsSaving]=useState(false);const[showSidebar,setShowSidebar]=useState(true);const[selectedNode,setSelectedNode]=useState(null);// React Flow state\nconst[nodes,setNodes,onNodesChange]=useNodesState([]);const[edges,setEdges,onEdgesChange]=useEdgesState([]);// Fetch bot data\nuseEffect(()=>{const fetchBot=async()=>{try{var _response$data$config,_response$data$config2;const token=localStorage.getItem('token');const response=await axios.get(`/api/bots/${botId}`,{headers:{Authorization:`Bearer ${token}`}});setBotName(response.data.name);// Initialize nodes and edges from bot config\nif((_response$data$config=response.data.config)!==null&&_response$data$config!==void 0&&_response$data$config.nodes){setNodes(response.data.config.nodes);}if((_response$data$config2=response.data.config)!==null&&_response$data$config2!==void 0&&_response$data$config2.edges){setEdges(response.data.config.edges);}}catch(error){console.error('Error fetching bot:',error);}finally{setIsLoading(false);}};fetchBot();},[botId]);// Save bot configuration\nconst saveBot=async()=>{setIsSaving(true);try{const token=localStorage.getItem('token');await axios.put(`/api/bots/${botId}`,{config:{nodes,edges}},{headers:{Authorization:`Bearer ${token}`}});// Show success feedback\nsetIsSaving(false);return true;}catch(error){console.error('Error saving bot:',error);setIsSaving(false);return false;}};// Handle node drag from sidebar\nconst onDragStart=(event,nodeType)=>{event.dataTransfer.setData('application/reactflow',nodeType);event.dataTransfer.effectAllowed='move';};// Handle node drop on canvas\nconst onDrop=useCallback(event=>{event.preventDefault();const type=event.dataTransfer.getData('application/reactflow');const position={x:event.clientX,y:event.clientY};// Create new node\nconst newNode={id:`node-${Date.now()}`,type,position,data:{label:`${type.charAt(0).toUpperCase()+type.slice(1)} Node`,content:''}};setNodes(nds=>nds.concat(newNode));},[setNodes]);// Handle edge creation\nconst onConnect=useCallback(params=>{setEdges(eds=>addEdge(params,eds));},[setEdges]);// Delete selected node\nconst deleteSelectedNode=()=>{if(!selectedNode)return;setNodes(nds=>nds.filter(node=>node.id!==selectedNode.id));setEdges(eds=>eds.filter(edge=>edge.source!==selectedNode.id&&edge.target!==selectedNode.id));setSelectedNode(null);};// Node click handler\nconst handleNodeClick=(event,node)=>{setSelectedNode(node);};// Close sidebar when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(showSidebar&&!event.target.closest('.node-sidebar')&&!event.target.closest('.sidebar-toggle')){setShowSidebar(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[showSidebar]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"h-16 w-16 border-4 border-primary border-t-transparent rounded-full\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gray-50 overflow-hidden\",children:[/*#__PURE__*/_jsx(motion.button,{whileHover:{x:showSidebar?0:5},whileTap:{scale:0.95},className:`absolute top-4 left-4 z-10 p-2 rounded-full bg-white shadow-lg sidebar-toggle ${showSidebar?'text-primary':'text-gray-600'}`,onClick:()=>setShowSidebar(!showSidebar),children:/*#__PURE__*/_jsx(FiChevronRight,{className:`transition-transform ${showSidebar?'rotate-180':''}`,size:20})}),/*#__PURE__*/_jsxs(motion.div,{initial:{x:-300},animate:{x:showSidebar?0:-300},transition:{type:'spring',damping:25},className:\"absolute md:relative z-20 h-full w-64 bg-white shadow-xl node-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-gray-800\",children:\"Bot Builder\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 truncate\",children:botName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-700 mb-3\",children:\"Add Nodes\"}),/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:event=>onDragStart(event,'message'),className:\"flex items-center p-3 bg-primary/10 border border-primary/30 rounded-lg cursor-grab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(FiMessageSquare,{className:\"text-primary\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800\",children:\"Message\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Send a message to user\"})]})]})}),/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:event=>onDragStart(event,'condition'),className:\"flex items-center p-3 bg-secondary/10 border border-secondary/30 rounded-lg cursor-grab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(FiGitBranch,{className:\"text-secondary\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800\",children:\"Condition\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Branch based on conditions\"})]})]})}),/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.02},children:/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:event=>onDragStart(event,'code'),className:\"flex items-center p-3 bg-accent/10 border border-accent/30 rounded-lg cursor-grab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center mr-3\",children:/*#__PURE__*/_jsx(FiCode,{className:\"text-accent\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-800\",children:\"Code\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:\"Run custom JavaScript\"})]})]})})]}),selectedNode&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"p-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-800\",children:\"Node Settings\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedNode(null),className:\"p-1 rounded-full hover:bg-gray-100\",children:/*#__PURE__*/_jsx(FiX,{size:16})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-700 mb-1\",children:\"Label\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:selectedNode.data.label,onChange:e=>{setNodes(nds=>nds.map(node=>node.id===selectedNode.id?{...node,data:{...node.data,label:e.target.value}}:node));setSelectedNode({...selectedNode,data:{...selectedNode.data,label:e.target.value}});},className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-700 mb-1\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:3,value:selectedNode.data.content||'',onChange:e=>{setNodes(nds=>nds.map(node=>node.id===selectedNode.id?{...node,data:{...node.data,content:e.target.value}}:node));setSelectedNode({...selectedNode,data:{...selectedNode.data,content:e.target.value}});},className:\"input-field\"})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.03},whileTap:{scale:0.97},onClick:deleteSelectedNode,className:\"w-full flex items-center justify-center py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg\",children:[/*#__PURE__*/_jsx(FiTrash2,{className:\"mr-2\"}),\"Delete Node\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 h-full\",children:/*#__PURE__*/_jsx(ReactFlowProvider,{children:/*#__PURE__*/_jsxs(ReactFlow,{nodes:nodes,edges:edges,onNodesChange:onNodesChange,onEdgesChange:onEdgesChange,onConnect:onConnect,onDrop:onDrop,onDragOver:e=>e.preventDefault(),onNodeClick:handleNodeClick,nodeTypes:nodeTypes,fitView:true,children:[/*#__PURE__*/_jsx(Background,{color:\"#aaa\",gap:16}),/*#__PURE__*/_jsx(Controls,{}),/*#__PURE__*/_jsx(MiniMap,{}),/*#__PURE__*/_jsx(Panel,{position:\"top-right\",className:\"bg-white/80 backdrop-blur-sm rounded-lg shadow-md p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:saveBot,className:\"flex items-center bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg\",children:isSaving?/*#__PURE__*/_jsx(motion.span,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"h-5 w-5 border-2 border-white border-t-transparent rounded-full\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FiSave,{className:\"mr-2\"}),\"Save\"]})}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>navigate(`/chat/${botId}`),className:\"flex items-center bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(FiPlay,{className:\"mr-2\"}),\"Test Chat\"]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>navigate(`/settings?botId=${botId}`),className:\"flex items-center bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(FiSettings,{className:\"mr-2\"}),\"Settings\"]})]})}),/*#__PURE__*/_jsx(Panel,{position:\"bottom-left\",className:\"bg-white/80 backdrop-blur-sm rounded-lg shadow-md p-3 text-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mr-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-primary mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-3\",children:\"Message\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-secondary mr-1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-3\",children:\"Condition\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full bg-accent mr-1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Code\"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Drag nodes from sidebar \\u2022 Click to select \\u2022 Connect nodes\"})})]})})]})})})]});};export default BotBuilder;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","motion","axios","ReactFlow","addEdge","useNodesState","useEdgesState","Controls","Background","MiniMap","Panel","ReactFlowProvider","FiSave","FiMessageSquare","FiCode","FiGitBranch","FiChevronRight","FiX","FiPlus","FiTrash2","FiSettings","FiPlay","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MessageNode","_ref","data","className","children","label","ConditionNode","_ref2","CodeNode","_ref3","nodeTypes","message","condition","code","BotBuilder","botId","navigate","botName","setBotName","isLoading","setIsLoading","isSaving","setIsSaving","showSidebar","setShowSidebar","selectedNode","setSelectedNode","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","fetchBot","_response$data$config","_response$data$config2","token","localStorage","getItem","response","get","headers","Authorization","name","config","error","console","saveBot","put","onDragStart","event","nodeType","dataTransfer","setData","effectAllowed","onDrop","preventDefault","type","getData","position","x","clientX","y","clientY","newNode","id","Date","now","charAt","toUpperCase","slice","content","nds","concat","onConnect","params","eds","deleteSelectedNode","filter","node","edge","source","target","handleNodeClick","handleClickOutside","closest","document","addEventListener","removeEventListener","div","animate","rotate","transition","duration","repeat","Infinity","ease","button","whileHover","whileTap","scale","onClick","size","initial","damping","draggable","opacity","value","onChange","e","map","rows","onDragOver","onNodeClick","fitView","color","gap","span"],"sources":["/data/data/com.termux/files/home/Intellibotic/frontend/src/pages/BotBuilder.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport axios from 'axios';\n\nimport ReactFlow, {\n  addEdge,\n  useNodesState,\n  useEdgesState,\n  Controls,\n  Background,\n  MiniMap,\n  Panel\n} from 'reactflow';\nimport { ReactFlowProvider } from 'reactflow';\n\nimport 'reactflow/dist/style.css';\nimport '@reactflow/node-resizer/dist/style.css';\n\nimport {\n  FiSave,\n  FiMessageSquare,\n  FiCode,\n  FiGitBranch,\n  FiChevronRight,\n  FiX,\n  FiPlus,\n  FiTrash2,\n  FiSettings,\n  FiPlay\n} from 'react-icons/fi';\n\n// Custom Node Types\nconst MessageNode = ({ data }) => (\n  <div className=\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-primary\">\n    <div className=\"flex items-center\">\n      <FiMessageSquare className=\"mr-2 text-primary\" />\n      <div className=\"text-xs font-bold text-primary\">Message</div>\n    </div>\n    <div className=\"mt-1 text-sm\">{data.label || 'Send message'}</div>\n  </div>\n);\n\nconst ConditionNode = ({ data }) => (\n  <div className=\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-secondary\">\n    <div className=\"flex items-center\">\n      <FiGitBranch className=\"mr-2 text-secondary\" />\n      <div className=\"text-xs font-bold text-secondary\">Condition</div>\n    </div>\n    <div className=\"mt-1 text-sm\">{data.label || 'Check condition'}</div>\n  </div>\n);\n\nconst CodeNode = ({ data }) => (\n  <div className=\"px-4 py-2 shadow-md rounded-md bg-white border-2 border-accent\">\n    <div className=\"flex items-center\">\n      <FiCode className=\"mr-2 text-accent\" />\n      <div className=\"text-xs font-bold text-accent\">Code</div>\n    </div>\n    <div className=\"mt-1 text-sm\">{data.label || 'Run code'}</div>\n  </div>\n);\n\nconst nodeTypes = {\n  message: MessageNode,\n  condition: ConditionNode,\n  code: CodeNode\n};\n\nconst BotBuilder = () => {\n  const { botId } = useParams();\n  const navigate = useNavigate();\n  const [botName, setBotName] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [selectedNode, setSelectedNode] = useState(null);\n  \n  // React Flow state\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  \n  // Fetch bot data\n  useEffect(() => {\n    const fetchBot = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`/api/bots/${botId}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        setBotName(response.data.name);\n        \n        // Initialize nodes and edges from bot config\n        if (response.data.config?.nodes) {\n          setNodes(response.data.config.nodes);\n        }\n        if (response.data.config?.edges) {\n          setEdges(response.data.config.edges);\n        }\n      } catch (error) {\n        console.error('Error fetching bot:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    \n    fetchBot();\n  }, [botId]);\n  \n  // Save bot configuration\n  const saveBot = async () => {\n    setIsSaving(true);\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`/api/bots/${botId}`, {\n        config: { nodes, edges }\n      }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      // Show success feedback\n      setIsSaving(false);\n      return true;\n    } catch (error) {\n      console.error('Error saving bot:', error);\n      setIsSaving(false);\n      return false;\n    }\n  };\n  \n  // Handle node drag from sidebar\n  const onDragStart = (event, nodeType) => {\n    event.dataTransfer.setData('application/reactflow', nodeType);\n    event.dataTransfer.effectAllowed = 'move';\n  };\n  \n  // Handle node drop on canvas\n  const onDrop = useCallback((event) => {\n    event.preventDefault();\n    \n    const type = event.dataTransfer.getData('application/reactflow');\n    const position = { x: event.clientX, y: event.clientY };\n    \n    // Create new node\n    const newNode = {\n      id: `node-${Date.now()}`,\n      type,\n      position,\n      data: { \n        label: `${type.charAt(0).toUpperCase() + type.slice(1)} Node`,\n        content: ''\n      }\n    };\n    \n    setNodes((nds) => nds.concat(newNode));\n  }, [setNodes]);\n  \n  // Handle edge creation\n  const onConnect = useCallback((params) => {\n    setEdges((eds) => addEdge(params, eds));\n  }, [setEdges]);\n  \n  // Delete selected node\n  const deleteSelectedNode = () => {\n    if (!selectedNode) return;\n    \n    setNodes((nds) => nds.filter(node => node.id !== selectedNode.id));\n    setEdges((eds) => eds.filter(edge => \n      edge.source !== selectedNode.id && edge.target !== selectedNode.id\n    ));\n    setSelectedNode(null);\n  };\n  \n  // Node click handler\n  const handleNodeClick = (event, node) => {\n    setSelectedNode(node);\n  };\n  \n  // Close sidebar when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (showSidebar && !event.target.closest('.node-sidebar') && !event.target.closest('.sidebar-toggle')) {\n        setShowSidebar(false);\n      }\n    };\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [showSidebar]);\n  \n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n          className=\"h-16 w-16 border-4 border-primary border-t-transparent rounded-full\"\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gray-50 overflow-hidden\">\n      {/* Sidebar Toggle */}\n      <motion.button\n        whileHover={{ x: showSidebar ? 0 : 5 }}\n        whileTap={{ scale: 0.95 }}\n        className={`absolute top-4 left-4 z-10 p-2 rounded-full bg-white shadow-lg sidebar-toggle ${\n          showSidebar ? 'text-primary' : 'text-gray-600'\n        }`}\n        onClick={() => setShowSidebar(!showSidebar)}\n      >\n        <FiChevronRight\n          className={`transition-transform ${showSidebar ? 'rotate-180' : ''}`}\n          size={20}\n        />\n      </motion.button>\n\n      {/* Node Sidebar */}\n      <motion.div\n        initial={{ x: -300 }}\n        animate={{ x: showSidebar ? 0 : -300 }}\n        transition={{ type: 'spring', damping: 25 }}\n        className=\"absolute md:relative z-20 h-full w-64 bg-white shadow-xl node-sidebar\"\n      >\n        <div className=\"p-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-bold text-gray-800\">Bot Builder</h2>\n          <p className=\"text-sm text-gray-600 truncate\">{botName}</p>\n        </div>\n        \n        <div className=\"p-4\">\n          <h3 className=\"text-sm font-semibold text-gray-700 mb-3\">Add Nodes</h3>\n          \n          <motion.div\n            whileHover={{ scale: 1.02 }}\n            className=\"mb-3\"\n          >\n            <div\n              draggable\n              onDragStart={(event) => onDragStart(event, 'message')}\n              className=\"flex items-center p-3 bg-primary/10 border border-primary/30 rounded-lg cursor-grab\"\n            >\n              <div className=\"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center mr-3\">\n                <FiMessageSquare className=\"text-primary\" />\n              </div>\n              <div>\n                <div className=\"font-medium text-gray-800\">Message</div>\n                <div className=\"text-xs text-gray-500\">Send a message to user</div>\n              </div>\n            </div>\n          </motion.div>\n          \n          <motion.div\n            whileHover={{ scale: 1.02 }}\n            className=\"mb-3\"\n          >\n            <div\n              draggable\n              onDragStart={(event) => onDragStart(event, 'condition')}\n              className=\"flex items-center p-3 bg-secondary/10 border border-secondary/30 rounded-lg cursor-grab\"\n            >\n              <div className=\"w-8 h-8 rounded-full bg-secondary/20 flex items-center justify-center mr-3\">\n                <FiGitBranch className=\"text-secondary\" />\n              </div>\n              <div>\n                <div className=\"font-medium text-gray-800\">Condition</div>\n                <div className=\"text-xs text-gray-500\">Branch based on conditions</div>\n              </div>\n            </div>\n          </motion.div>\n          \n          <motion.div\n            whileHover={{ scale: 1.02 }}\n          >\n            <div\n              draggable\n              onDragStart={(event) => onDragStart(event, 'code')}\n              className=\"flex items-center p-3 bg-accent/10 border border-accent/30 rounded-lg cursor-grab\"\n            >\n              <div className=\"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center mr-3\">\n                <FiCode className=\"text-accent\" />\n              </div>\n              <div>\n                <div className=\"font-medium text-gray-800\">Code</div>\n                <div className=\"text-xs text-gray-500\">Run custom JavaScript</div>\n              </div>\n            </div>\n          </motion.div>\n        </div>\n        \n        {selectedNode && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"p-4 border-t border-gray-200\"\n          >\n            <div className=\"flex justify-between items-center mb-3\">\n              <h3 className=\"font-medium text-gray-800\">Node Settings</h3>\n              <button \n                onClick={() => setSelectedNode(null)}\n                className=\"p-1 rounded-full hover:bg-gray-100\"\n              >\n                <FiX size={16} />\n              </button>\n            </div>\n            \n            <div className=\"mb-3\">\n              <label className=\"block text-sm text-gray-700 mb-1\">Label</label>\n              <input\n                type=\"text\"\n                value={selectedNode.data.label}\n                onChange={(e) => {\n                  setNodes((nds) => nds.map((node) => \n                    node.id === selectedNode.id \n                      ? { ...node, data: { ...node.data, label: e.target.value } } \n                      : node\n                  ));\n                  setSelectedNode({\n                    ...selectedNode,\n                    data: { ...selectedNode.data, label: e.target.value }\n                  });\n                }}\n                className=\"input-field\"\n              />\n            </div>\n            \n            <div className=\"mb-3\">\n              <label className=\"block text-sm text-gray-700 mb-1\">Content</label>\n              <textarea\n                rows={3}\n                value={selectedNode.data.content || ''}\n                onChange={(e) => {\n                  setNodes((nds) => nds.map((node) => \n                    node.id === selectedNode.id \n                      ? { ...node, data: { ...node.data, content: e.target.value } } \n                      : node\n                  ));\n                  setSelectedNode({\n                    ...selectedNode,\n                    data: { ...selectedNode.data, content: e.target.value }\n                  });\n                }}\n                className=\"input-field\"\n              />\n            </div>\n            \n            <motion.button\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.97 }}\n              onClick={deleteSelectedNode}\n              className=\"w-full flex items-center justify-center py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg\"\n            >\n              <FiTrash2 className=\"mr-2\" />\n              Delete Node\n            </motion.button>\n          </motion.div>\n        )}\n      </motion.div>\n\n      {/* Main Flow Area */}\n      <div className=\"flex-1 h-full\">\n        <ReactFlowProvider>\n          <ReactFlow\n            nodes={nodes}\n            edges={edges}\n            onNodesChange={onNodesChange}\n            onEdgesChange={onEdgesChange}\n            onConnect={onConnect}\n            onDrop={onDrop}\n            onDragOver={(e) => e.preventDefault()}\n            onNodeClick={handleNodeClick}\n            nodeTypes={nodeTypes}\n            fitView\n          >\n            <Background color=\"#aaa\" gap={16} />\n            <Controls />\n            <MiniMap />\n            \n            {/* Top Panel */}\n            <Panel position=\"top-right\" className=\"bg-white/80 backdrop-blur-sm rounded-lg shadow-md p-3\">\n              <div className=\"flex items-center space-x-3\">\n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={saveBot}\n                  className=\"flex items-center bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg\"\n                >\n                  {isSaving ? (\n                    <motion.span\n                      animate={{ rotate: 360 }}\n                      transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                      className=\"h-5 w-5 border-2 border-white border-t-transparent rounded-full\"\n                    />\n                  ) : (\n                    <>\n                      <FiSave className=\"mr-2\" />\n                      Save\n                    </>\n                  )}\n                </motion.button>\n                \n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={() => navigate(`/chat/${botId}`)}\n                  className=\"flex items-center bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-lg\"\n                >\n                  <FiPlay className=\"mr-2\" />\n                  Test Chat\n                </motion.button>\n                \n                <motion.button\n                  whileHover={{ scale: 1.05 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={() => navigate(`/settings?botId=${botId}`)}\n                  className=\"flex items-center bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg\"\n                >\n                  <FiSettings className=\"mr-2\" />\n                  Settings\n                </motion.button>\n              </div>\n            </Panel>\n            \n            {/* Help Panel */}\n            <Panel position=\"bottom-left\" className=\"bg-white/80 backdrop-blur-sm rounded-lg shadow-md p-3 text-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"mr-3\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-3 h-3 rounded-full bg-primary mr-1\"></div>\n                    <span className=\"mr-3\">Message</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-3 h-3 rounded-full bg-secondary mr-1\"></div>\n                    <span className=\"mr-3\">Condition</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    <div className=\"w-3 h-3 rounded-full bg-accent mr-1\"></div>\n                    <span>Code</span>\n                  </div>\n                </div>\n                <div>\n                  <p>Drag nodes from sidebar • Click to select • Connect nodes</p>\n                </div>\n              </div>\n            </Panel>\n          </ReactFlow>\n        </ReactFlowProvider>\n      </div>\n    </div>\n  );\n};\n\nexport default BotBuilder;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}