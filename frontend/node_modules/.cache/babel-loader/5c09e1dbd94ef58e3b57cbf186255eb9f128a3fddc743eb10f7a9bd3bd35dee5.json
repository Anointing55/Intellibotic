{"ast":null,"code":"// frontend/src/pages/Chat.jsx\nimport React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{FiSend,FiArrowLeft,FiLoader,FiTrash2,FiMessageSquare}from'react-icons/fi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Chat=()=>{const{botId}=useParams();const navigate=useNavigate();const[messages,setMessages]=useState([]);const[inputText,setInputText]=useState('');const[isSending,setIsSending]=useState(false);const[botName,setBotName]=useState('ChatBot');const[botAvatar,setBotAvatar]=useState('');const messagesEndRef=useRef(null);// Fetch bot details\nuseEffect(()=>{const fetchBotDetails=async()=>{try{var _response$data$config;const token=localStorage.getItem('token');const response=await axios.get(`/api/bots/${botId}`,{headers:{Authorization:`Bearer ${token}`}});setBotName(response.data.name);setBotAvatar(((_response$data$config=response.data.config)===null||_response$data$config===void 0?void 0:_response$data$config.avatar)||'');}catch(error){console.error('Error fetching bot details:',error);}};fetchBotDetails();},[botId]);// Scroll to bottom when messages change\nuseEffect(()=>{scrollToBottom();},[messages]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};// Handle sending a message\nconst handleSendMessage=async()=>{if(!inputText.trim()||isSending)return;// Add user message\nconst userMessage={id:Date.now(),text:inputText,sender:'user',timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputText('');setIsSending(true);try{// In a real app, this would call the bot's API\n// For now, simulate a response with a delay\nawait new Promise(resolve=>setTimeout(resolve,1000));// Generate bot response\nconst botResponse={id:Date.now()+1,text:generateBotResponse(inputText),sender:'bot',timestamp:new Date()};setMessages(prev=>[...prev,botResponse]);}catch(error){console.error('Error getting bot response:',error);const errorResponse={id:Date.now()+1,text:\"I'm having trouble responding right now. Please try again later.\",sender:'bot',timestamp:new Date()};setMessages(prev=>[...prev,errorResponse]);}finally{setIsSending(false);}};// Simple bot response generation\nconst generateBotResponse=input=>{const inputLower=input.toLowerCase();if(inputLower.includes('hello')||inputLower.includes('hi')){return\"Hello there! How can I assist you today?\";}if(inputLower.includes('how are you')){return\"I'm just a bot, but I'm functioning perfectly! How can I help you?\";}if(inputLower.includes('thank')){return\"You're welcome! Is there anything else I can help with?\";}if(inputLower.includes('bye')||inputLower.includes('goodbye')){return\"Goodbye! Feel free to chat again anytime.\";}const responses=[\"That's interesting! Can you tell me more?\",\"I understand. How else can I assist you?\",\"Thanks for sharing that information.\",\"I'm here to help with any questions you have.\",\"Could you clarify that for me?\",\"I'm still learning, but I'll do my best to help!\",\"That's a great point. What would you like to do next?\",\"I've noted your input. Is there anything specific you need help with?\"];return responses[Math.floor(Math.random()*responses.length)];};// Clear chat history\nconst clearChat=()=>{setMessages([]);};// Handle Enter key press\nconst handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:\"bg-white shadow-sm py-4 px-6 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:()=>navigate(-1),className:\"flex items-center text-gray-600 hover:text-gray-800 mr-4\",children:[/*#__PURE__*/_jsx(FiArrowLeft,{className:\"mr-1\"}),\"Back\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white font-bold mr-3\",children:botAvatar?/*#__PURE__*/_jsx(\"img\",{src:botAvatar,alt:botName,className:\"w-10 h-10 rounded-full object-cover\"}):/*#__PURE__*/_jsx(FiMessageSquare,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-semibold text-gray-800\",children:botName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Testing Mode\"})]})]})]}),/*#__PURE__*/_jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:0.95},onClick:clearChat,className:\"flex items-center text-red-500 hover:text-red-600\",children:[/*#__PURE__*/_jsx(FiTrash2,{className:\"mr-1\"}),\"Clear Chat\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4 md:p-6 pb-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:messages.length===0?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},className:\"flex flex-col items-center justify-center h-full text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-primary to-secondary p-4 rounded-full mb-6\",children:/*#__PURE__*/_jsx(FiMessageSquare,{className:\"text-white text-4xl\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-2\",children:\"Start a Conversation\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 max-w-md\",children:[\"Send a message to test \",botName,\". Try asking a question or saying hello!\"]})]}):messages.map(message=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:message.sender==='user'?50:-50},transition:{duration:0.3},className:`flex mb-6 ${message.sender==='user'?'justify-end':'justify-start'}`,children:[message.sender==='bot'&&/*#__PURE__*/_jsx(\"div\",{className:\"mr-3 mt-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white\",children:botAvatar?/*#__PURE__*/_jsx(\"img\",{src:botAvatar,alt:botName,className:\"w-8 h-8 rounded-full object-cover\"}):/*#__PURE__*/_jsx(FiMessageSquare,{size:16})})}),/*#__PURE__*/_jsx(\"div\",{className:`max-w-[80%] md:max-w-[70%]`,children:/*#__PURE__*/_jsxs(motion.div,{whileHover:{scale:1.01},className:`rounded-2xl px-4 py-3 shadow-sm ${message.sender==='user'?'bg-primary text-white rounded-tr-none':'bg-white border border-gray-200 rounded-tl-none'}`,children:[/*#__PURE__*/_jsx(\"p\",{className:\"whitespace-pre-wrap\",children:message.text}),/*#__PURE__*/_jsx(\"div\",{className:`text-xs mt-1 ${message.sender==='user'?'text-white/70':'text-gray-500'}`,children:message.timestamp.toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})})]})}),message.sender==='user'&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 mt-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:\"U\"})})})]},message.id))}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),/*#__PURE__*/_jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:\"bg-white border-t border-gray-200 py-4 px-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputText,onChange:e=>setInputText(e.target.value),onKeyDown:handleKeyPress,placeholder:\"Type your message...\",className:\"w-full px-4 py-3 pr-12 bg-gray-100 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent border-none resize-none transition-all\",rows:1,style:{minHeight:'56px',maxHeight:'150px'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-3 bottom-3 flex items-center\",children:[isSending&&/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"h-5 w-5 border-2 border-primary border-t-transparent rounded-full mr-2\"}),/*#__PURE__*/_jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:0.9},onClick:handleSendMessage,disabled:!inputText.trim()||isSending,className:`p-2 rounded-full ${inputText.trim()&&!isSending?'bg-primary text-white':'bg-gray-300 text-gray-500 cursor-not-allowed'}`,children:/*#__PURE__*/_jsx(FiSend,{size:18})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto mt-2 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Press Enter to send \\u2022 Shift+Enter for new line\"})})]})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","motion","AnimatePresence","axios","FiSend","FiArrowLeft","FiLoader","FiTrash2","FiMessageSquare","jsx","_jsx","jsxs","_jsxs","Chat","botId","navigate","messages","setMessages","inputText","setInputText","isSending","setIsSending","botName","setBotName","botAvatar","setBotAvatar","messagesEndRef","fetchBotDetails","_response$data$config","token","localStorage","getItem","response","get","headers","Authorization","data","name","config","avatar","error","console","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","id","Date","now","text","sender","timestamp","prev","Promise","resolve","setTimeout","botResponse","generateBotResponse","errorResponse","input","inputLower","toLowerCase","includes","responses","Math","floor","random","length","clearChat","handleKeyPress","e","key","shiftKey","preventDefault","className","children","div","initial","y","opacity","animate","button","whileHover","scale","whileTap","onClick","src","alt","size","map","message","exit","x","transition","duration","toLocaleTimeString","hour","minute","ref","value","onChange","target","onKeyDown","placeholder","rows","style","minHeight","maxHeight","rotate","repeat","Infinity","ease","disabled"],"sources":["/data/data/com.termux/files/home/Intellibotic/frontend/src/pages/Chat.jsx"],"sourcesContent":["// frontend/src/pages/Chat.jsx\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { FiSend, FiArrowLeft, FiLoader, FiTrash2, FiMessageSquare } from 'react-icons/fi';\n\nconst Chat = () => {\n  const { botId } = useParams();\n  const navigate = useNavigate();\n  const [messages, setMessages] = useState([]);\n  const [inputText, setInputText] = useState('');\n  const [isSending, setIsSending] = useState(false);\n  const [botName, setBotName] = useState('ChatBot');\n  const [botAvatar, setBotAvatar] = useState('');\n  const messagesEndRef = useRef(null);\n\n  // Fetch bot details\n  useEffect(() => {\n    const fetchBotDetails = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`/api/bots/${botId}`, {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        \n        setBotName(response.data.name);\n        setBotAvatar(response.data.config?.avatar || '');\n      } catch (error) {\n        console.error('Error fetching bot details:', error);\n      }\n    };\n    \n    fetchBotDetails();\n  }, [botId]);\n\n  // Scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // Handle sending a message\n  const handleSendMessage = async () => {\n    if (!inputText.trim() || isSending) return;\n    \n    // Add user message\n    const userMessage = {\n      id: Date.now(),\n      text: inputText,\n      sender: 'user',\n      timestamp: new Date(),\n    };\n    \n    setMessages(prev => [...prev, userMessage]);\n    setInputText('');\n    setIsSending(true);\n    \n    try {\n      // In a real app, this would call the bot's API\n      // For now, simulate a response with a delay\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      // Generate bot response\n      const botResponse = {\n        id: Date.now() + 1,\n        text: generateBotResponse(inputText),\n        sender: 'bot',\n        timestamp: new Date(),\n      };\n      \n      setMessages(prev => [...prev, botResponse]);\n    } catch (error) {\n      console.error('Error getting bot response:', error);\n      \n      const errorResponse = {\n        id: Date.now() + 1,\n        text: \"I'm having trouble responding right now. Please try again later.\",\n        sender: 'bot',\n        timestamp: new Date(),\n      };\n      \n      setMessages(prev => [...prev, errorResponse]);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Simple bot response generation\n  const generateBotResponse = (input) => {\n    const inputLower = input.toLowerCase();\n    \n    if (inputLower.includes('hello') || inputLower.includes('hi')) {\n      return \"Hello there! How can I assist you today?\";\n    }\n    \n    if (inputLower.includes('how are you')) {\n      return \"I'm just a bot, but I'm functioning perfectly! How can I help you?\";\n    }\n    \n    if (inputLower.includes('thank')) {\n      return \"You're welcome! Is there anything else I can help with?\";\n    }\n    \n    if (inputLower.includes('bye') || inputLower.includes('goodbye')) {\n      return \"Goodbye! Feel free to chat again anytime.\";\n    }\n    \n    const responses = [\n      \"That's interesting! Can you tell me more?\",\n      \"I understand. How else can I assist you?\",\n      \"Thanks for sharing that information.\",\n      \"I'm here to help with any questions you have.\",\n      \"Could you clarify that for me?\",\n      \"I'm still learning, but I'll do my best to help!\",\n      \"That's a great point. What would you like to do next?\",\n      \"I've noted your input. Is there anything specific you need help with?\"\n    ];\n    \n    return responses[Math.floor(Math.random() * responses.length)];\n  };\n\n  // Clear chat history\n  const clearChat = () => {\n    setMessages([]);\n  };\n\n  // Handle Enter key press\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-gray-50 to-gray-100\">\n      {/* Chat Header */}\n      <motion.div\n        initial={{ y: -20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        className=\"bg-white shadow-sm py-4 px-6 flex items-center justify-between\"\n      >\n        <div className=\"flex items-center\">\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => navigate(-1)}\n            className=\"flex items-center text-gray-600 hover:text-gray-800 mr-4\"\n          >\n            <FiArrowLeft className=\"mr-1\" />\n            Back\n          </motion.button>\n          \n          <div className=\"flex items-center\">\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white font-bold mr-3\">\n              {botAvatar ? (\n                <img \n                  src={botAvatar} \n                  alt={botName} \n                  className=\"w-10 h-10 rounded-full object-cover\"\n                />\n              ) : (\n                <FiMessageSquare size={20} />\n              )}\n            </div>\n            <div>\n              <h1 className=\"font-semibold text-gray-800\">{botName}</h1>\n              <p className=\"text-xs text-gray-500\">Testing Mode</p>\n            </div>\n          </div>\n        </div>\n        \n        <motion.button\n          whileHover={{ scale: 1.05 }}\n          whileTap={{ scale: 0.95 }}\n          onClick={clearChat}\n          className=\"flex items-center text-red-500 hover:text-red-600\"\n        >\n          <FiTrash2 className=\"mr-1\" />\n          Clear Chat\n        </motion.button>\n      </motion.div>\n\n      {/* Messages Container */}\n      <div className=\"flex-1 overflow-y-auto p-4 md:p-6 pb-20\">\n        <div className=\"max-w-3xl mx-auto\">\n          <AnimatePresence>\n            {messages.length === 0 ? (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.9 }}\n                animate={{ opacity: 1, scale: 1 }}\n                className=\"flex flex-col items-center justify-center h-full text-center py-12\"\n              >\n                <div className=\"bg-gradient-to-r from-primary to-secondary p-4 rounded-full mb-6\">\n                  <FiMessageSquare className=\"text-white text-4xl\" />\n                </div>\n                <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">Start a Conversation</h2>\n                <p className=\"text-gray-600 max-w-md\">\n                  Send a message to test {botName}. Try asking a question or saying hello!\n                </p>\n              </motion.div>\n            ) : (\n              messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, x: message.sender === 'user' ? 50 : -50 }}\n                  transition={{ duration: 0.3 }}\n                  className={`flex mb-6 ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  {message.sender === 'bot' && (\n                    <div className=\"mr-3 mt-1\">\n                      <div className=\"w-8 h-8 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center text-white\">\n                        {botAvatar ? (\n                          <img \n                            src={botAvatar} \n                            alt={botName} \n                            className=\"w-8 h-8 rounded-full object-cover\"\n                          />\n                        ) : (\n                          <FiMessageSquare size={16} />\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  \n                  <div className={`max-w-[80%] md:max-w-[70%]`}>\n                    <motion.div\n                      whileHover={{ scale: 1.01 }}\n                      className={`rounded-2xl px-4 py-3 shadow-sm ${\n                        message.sender === 'user' \n                          ? 'bg-primary text-white rounded-tr-none' \n                          : 'bg-white border border-gray-200 rounded-tl-none'\n                      }`}\n                    >\n                      <p className=\"whitespace-pre-wrap\">{message.text}</p>\n                      <div className={`text-xs mt-1 ${message.sender === 'user' ? 'text-white/70' : 'text-gray-500'}`}>\n                        {message.timestamp.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                      </div>\n                    </motion.div>\n                  </div>\n                  \n                  {message.sender === 'user' && (\n                    <div className=\"ml-3 mt-1\">\n                      <div className=\"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center\">\n                        <span className=\"font-medium text-gray-700\">U</span>\n                      </div>\n                    </div>\n                  )}\n                </motion.div>\n              ))\n            )}\n          </AnimatePresence>\n          <div ref={messagesEndRef} />\n        </div>\n      </div>\n\n      {/* Input Area */}\n      <motion.div\n        initial={{ y: 20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        className=\"bg-white border-t border-gray-200 py-4 px-4\"\n      >\n        <div className=\"max-w-3xl mx-auto flex\">\n          <div className=\"flex-1 relative\">\n            <textarea\n              value={inputText}\n              onChange={(e) => setInputText(e.target.value)}\n              onKeyDown={handleKeyPress}\n              placeholder=\"Type your message...\"\n              className=\"w-full px-4 py-3 pr-12 bg-gray-100 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent border-none resize-none transition-all\"\n              rows={1}\n              style={{ minHeight: '56px', maxHeight: '150px' }}\n            />\n            \n            <div className=\"absolute right-3 bottom-3 flex items-center\">\n              {isSending && (\n                <motion.div\n                  animate={{ rotate: 360 }}\n                  transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                  className=\"h-5 w-5 border-2 border-primary border-t-transparent rounded-full mr-2\"\n                />\n              )}\n              \n              <motion.button\n                whileHover={{ scale: 1.1 }}\n                whileTap={{ scale: 0.9 }}\n                onClick={handleSendMessage}\n                disabled={!inputText.trim() || isSending}\n                className={`p-2 rounded-full ${\n                  inputText.trim() && !isSending\n                    ? 'bg-primary text-white'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                }`}\n              >\n                <FiSend size={18} />\n              </motion.button>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"max-w-3xl mx-auto mt-2 text-center\">\n          <p className=\"text-xs text-gray-500\">\n            Press Enter to send â€¢ Shift+Enter for new line\n          </p>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default Chat;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}